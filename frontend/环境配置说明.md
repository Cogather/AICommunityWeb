# 环境配置说明

## 概述

项目支持多环境配置，可以通过环境变量文件配置不同环境的API地址。

## 环境变量文件

项目包含以下环境变量文件：

- `.env.development` - 开发环境配置
- `.env.test` - 测试环境配置
- `.env.production` - 生产环境配置
- `.env.example` - 环境变量示例文件（可提交到Git）

## 配置方式

### 1. 开发环境（本地调试）

编辑 `.env.development` 文件：

```env
# 本地调试API地址
VITE_DEV_API_BASE_URL=http://10.189.4.112:8888/aicommunitybe
```

**当前配置**：已设置为本地调试地址 `http://10.189.4.112:8888/aicommunitybe`

### 2. 测试环境

编辑 `.env.test` 文件：

```env
# 测试环境API地址
VITE_TEST_API_BASE_URL=https://test-api.example.com/api
```

**注意**：请根据实际测试环境修改为正确的API地址。

### 3. 生产环境

编辑 `.env.production` 文件：

```env
# 生产环境API地址
VITE_PROD_API_BASE_URL=https://api.example.com/api
```

**注意**：请根据实际生产环境修改为正确的API地址。

### 4. 全局配置（覆盖所有环境）

如果需要所有环境使用同一个API地址，可以在对应的环境文件中设置：

```env
# 全局API地址（会覆盖环境特定配置）
VITE_API_BASE_URL=http://10.189.4.112:8888/aicommunitybe
```

## 配置优先级

1. **最高优先级**：`VITE_API_BASE_URL` - 如果设置，会覆盖所有环境特定配置
2. **环境特定配置**：
   - 开发环境：`VITE_DEV_API_BASE_URL`
   - 测试环境：`VITE_TEST_API_BASE_URL`
   - 生产环境：`VITE_PROD_API_BASE_URL`
3. **默认值**：
   - 开发环境：`http://10.189.4.112:8888/aicommunitybe`
   - 测试/生产环境：`/api`（相对路径）

## 使用方法

### 开发环境

```bash
# 启动开发服务器（自动使用 .env.development）
npm run dev
```

### 测试环境

```bash
# 构建测试版本（使用 .env.test）
npm run build --mode test
```

### 生产环境

```bash
# 构建生产版本（使用 .env.production）
npm run build
```

## 修改本地调试地址

如果需要修改本地调试地址，编辑 `.env.development` 文件：

```env
# 修改为新的本地调试地址
VITE_DEV_API_BASE_URL=http://新的IP:端口/路径
```

或者使用全局配置：

```env
# 使用全局配置覆盖
VITE_API_BASE_URL=http://新的IP:端口/路径
```

## 注意事项

1. **环境变量文件不要提交到Git**：`.env.development`、`.env.test`、`.env.production` 应该添加到 `.gitignore`
2. **示例文件可以提交**：`.env.example` 可以提交到Git，作为配置模板
3. **修改后需要重启**：修改环境变量后，需要重启开发服务器才能生效
4. **路径格式**：API地址应该包含完整的协议、域名/IP、端口和路径，例如：`http://10.189.4.112:8888/aicommunitybe`

## 当前配置状态

- ✅ 开发环境：已配置为 `http://10.189.4.112:8888/aicommunitybe`
- ⚠️ 测试环境：需要根据实际测试环境修改
- ⚠️ 生产环境：需要根据实际生产环境修改
