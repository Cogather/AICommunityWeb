# å‰ç«¯æ¥å£-åç«¯æ¥å£æ˜ å°„æ¸…å•å’Œæ ¡éªŒæŠ¥å‘Š

## ä¸€ã€æ¥å£æ˜ å°„æ¸…å•

| åºå· | å‰ç«¯æ¥å£è·¯å¾„ | è¯·æ±‚æ–¹å¼ | åç«¯æ¥å£è·¯å¾„ | åç«¯Controlleræ–¹æ³• | å‚æ•°åŒ¹é…åº¦ | è¿”å›å€¼åŒ¹é…åº¦ | çŠ¶æ€ |
|------|------------|---------|------------|-------------------|-----------|------------|------|
| 1 | `/api/home/carousel` | GET | `/api/home/carousel` | `HomeController.getCarousel()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 2 | `/api/home/honor` | GET | `/api/home/honor` | `HomeController.getHonor()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 3 | `/api/home/empowerment` | GET | `/api/home/empowerment` | `HomeController.getEmpowerment()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 4 | `/api/home/practices` | GET | `/api/home/practices` | `HomeController.getPractices()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 5 | `/api/home/tool-platform` | GET | `/api/home/tool-platform` | `HomeController.getToolPlatform()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 6 | `/api/tools` | GET | `/api/tools` | `ToolController.getTools()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |
| 7 | `/api/home/tool-banners` | GET | `/api/home/tool-banners` | `HomeController.getToolBanners()` | âœ… å®Œå…¨åŒ¹é… | âœ… å®Œå…¨åŒ¹é… | âœ… å·²å®ç° |

## äºŒã€æ¥å£è¯¦ç»†æ ¡éªŒ

### 1. GET /api/home/carousel

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/mock/index.ts`
- å‡½æ•°ï¼š`getCarousel()`
- æœŸæœ›è¿”å›ï¼š`{ list: CarouselItem[] }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getCarousel()`
- è¿”å›æ ¼å¼ï¼š`Result<CarouselListVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { list: CarouselItemVO[] } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| id | id | number | âœ… |
| image | image | string | âœ… |
| title | title | string | âœ… |
| desc | desc | string | âœ… |
| link | link | string | âœ… |
| showContent | showContent | boolean | âœ… |
| order | order | number | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

---

### 2. GET /api/home/honor

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/mock/index.ts`
- å‡½æ•°ï¼š`getHonor()`
- æœŸæœ›è¿”å›ï¼š`{ honor: HonorInfo }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getHonor()`
- è¿”å›æ ¼å¼ï¼š`Result<HonorResponseVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { honor: HonorInfoVO } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| honor.bannerImage | honor.bannerImage | string | âœ… |
| honor.awards[].id | honor.awards[].id | number | âœ… |
| honor.awards[].name | honor.awards[].name | string | âœ… |
| honor.awards[].desc | honor.awards[].desc | string | âœ… |
| honor.awards[].image | honor.awards[].image | string | âœ… |
| honor.topUsers[].id | honor.topUsers[].id | number | âœ… |
| honor.topUsers[].name | honor.topUsers[].name | string | âœ… |
| honor.topUsers[].avatar | honor.topUsers[].avatar | string | âœ… |
| honor.topUsers[].department | honor.topUsers[].department | string | âœ… |
| honor.topUsers[].level | honor.topUsers[].level | number | âœ… |
| honor.topUsers[].honorCount | honor.topUsers[].honorCount | number | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

---

### 3. GET /api/home/empowerment

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/views/HomeView.vue`
- å‡½æ•°ï¼š`loadEmpowerment()`ï¼ˆéœ€è¦å®ç°ï¼‰
- æœŸæœ›è¿”å›ï¼š`{ list: EmpowermentPost[] }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getEmpowerment(Integer limit)`
- è¿”å›æ ¼å¼ï¼š`Result<EmpowermentListVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { list: EmpowermentPostVO[] } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| list[].id | list[].id | number | âœ… |
| list[].title | list[].title | string | âœ… |
| list[].tag | list[].tag | string | âœ… |
| list[].tagType | list[].tagType | string | âœ… |
| list[].author | list[].author | string | âœ… |
| list[].time | list[].time | string | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

**æ³¨æ„äº‹é¡¹ï¼š**
- å‚æ•° `limit` å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º5
- `tag` å’Œ `tagType` éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡é€»è¾‘è®¾ç½®ï¼ˆå½“å‰æ ¹æ®label_idæ˜ å°„ï¼‰

---

### 4. GET /api/home/practices

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/mock/index.ts`
- å‡½æ•°ï¼š`getPractices()`
- æœŸæœ›è¿”å›ï¼š`PracticesInfo`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getPractices(Integer limit)`
- è¿”å›æ ¼å¼ï¼š`Result<PracticesInfoVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: PracticesInfoVO }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| training[].id | training[].id | number | âœ… |
| training[].title | training[].title | string | âœ… |
| training[].author | training[].author | string | âœ… |
| training[].time | training[].time | string | âœ… |
| training[].category | training[].category | string | âœ… |
| trainingBattle[].* | trainingBattle[].* | - | âœ… |
| userExchange[].* | userExchange[].* | - | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

**æ³¨æ„äº‹é¡¹ï¼š**
- å‚æ•° `limit` å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º5
- åˆ†ç±»é€»è¾‘éœ€è¦æ ¹æ® `label_id` æ˜ å°„ï¼ˆéœ€è¦ç¡®è®¤å®é™…ä¸šåŠ¡è§„åˆ™ï¼‰

---

### 5. GET /api/home/tool-platform

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/views/HomeView.vue`
- å‡½æ•°ï¼š`loadTools()`ï¼ˆç”¨äºæ‚¬æµ®å·¥å…·å¹³å°ï¼‰
- æœŸæœ›è¿”å›ï¼š`{ list: ToolItem[] }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getToolPlatform()`
- è¿”å›æ ¼å¼ï¼š`Result<ToolPlatformListVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { list: ToolPlatformItemVO[] } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| list[].id | list[].id | number | âœ… |
| list[].name | list[].name | string | âœ… |
| list[].desc | list[].desc | string | âœ… |
| list[].logo | list[].logo | string | âœ… |
| list[].color | list[].color | string | âœ… |
| list[].platformUrl | list[].platformUrl | string | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

---

### 6. GET /api/tools

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/mock/index.ts`
- å‡½æ•°ï¼š`getTools(featured?: boolean)`
- æœŸæœ›è¿”å›ï¼š`{ list: ToolItem[] }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`ToolController.getTools(Boolean featured)`
- è¿”å›æ ¼å¼ï¼š`Result<ToolListVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { list: ToolItemVO[] } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| list[].id | list[].id | number | âœ… |
| list[].name | list[].name | string | âœ… |
| list[].desc | list[].desc | string | âœ… |
| list[].logo | list[].logo | string | âœ… |
| list[].color | list[].color | string | âœ… |
| list[].link | list[].link | string | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

**æ³¨æ„äº‹é¡¹ï¼š**
- å‚æ•° `featured` å¯é€‰
- æ•°æ®åº“è¡¨ `t_new_tool` ä¸­éœ€è¦ç¡®è®¤æ˜¯å¦æœ‰ `featured` å­—æ®µï¼Œå¦‚æœæ²¡æœ‰éœ€è¦è°ƒæ•´æŸ¥è¯¢é€»è¾‘

---

### 7. GET /api/home/tool-banners

**å‰ç«¯è°ƒç”¨ï¼š**
- æ–‡ä»¶ï¼š`frontend/src/mock/index.ts`
- å‡½æ•°ï¼š`getToolBanners(toolId?: number)`
- æœŸæœ›è¿”å›ï¼š`{ list: ToolBannerItem[] }`

**åç«¯å®ç°ï¼š**
- Controllerï¼š`HomeController.getToolBanners(Long toolId)`
- è¿”å›æ ¼å¼ï¼š`Result<ToolBannerListVO>`
- æ•°æ®ç»“æ„ï¼š`{ code: 200, message: "success", data: { list: ToolBannerItemVO[] } }`

**å­—æ®µæ˜ å°„ï¼š**
| å‰ç«¯å­—æ®µ | åç«¯å­—æ®µ | ç±»å‹ | åŒ¹é…åº¦ |
|---------|---------|------|--------|
| list[].id | list[].id | number | âœ… |
| list[].image | list[].image | string | âœ… |
| list[].title | list[].title | string | âœ… |
| list[].desc | list[].desc | string | âœ… |
| list[].order | list[].order | number | âœ… |

**æ ¡éªŒç»“æœï¼š** âœ… å®Œå…¨åŒ¹é…

**æ³¨æ„äº‹é¡¹ï¼š**
- å‚æ•° `toolId` å¯é€‰
- æ•°æ®åº“è¡¨ `t_new_tool_banners` ä¸­éœ€è¦ç¡®è®¤æ˜¯å¦æœ‰ `tool_id` å­—æ®µï¼Œå¦‚æœæ²¡æœ‰éœ€è¦è°ƒæ•´æŸ¥è¯¢é€»è¾‘

---

## ä¸‰ã€æ¥å£å®Œæ•´æ€§æ ¡éªŒ

### âœ… æ¥å£è¦†ç›–æƒ…å†µ

| æ¥å£æ€»æ•° | å·²å®ç° | æœªå®ç° | è¦†ç›–ç‡ |
|---------|--------|--------|--------|
| 7 | 7 | 0 | 100% |

### âœ… å‚æ•°åŒ¹é…æƒ…å†µ

æ‰€æœ‰æ¥å£çš„è¯·æ±‚å‚æ•°ä¸å‰ç«¯å®Œå…¨åŒ¹é…ï¼ŒåŒ…æ‹¬ï¼š
- è·¯å¾„å‚æ•°ï¼šæ— 
- æŸ¥è¯¢å‚æ•°ï¼šæ‰€æœ‰å‚æ•°ç±»å‹ã€åç§°ã€æ˜¯å¦å¿…å¡«å‡åŒ¹é…
- è¯·æ±‚ä½“ï¼šæ— 

### âœ… è¿”å›å€¼åŒ¹é…æƒ…å†µ

æ‰€æœ‰æ¥å£çš„è¿”å›å€¼ç»“æ„ä¸å‰ç«¯å®Œå…¨åŒ¹é…ï¼ŒåŒ…æ‹¬ï¼š
- ç»Ÿä¸€è¿”å›æ ¼å¼ï¼š`Result<T>` åŒ…è£…
- æ•°æ®å­—æ®µï¼šæ‰€æœ‰å­—æ®µåç§°ã€ç±»å‹å‡åŒ¹é…
- åµŒå¥—ç»“æ„ï¼šå®Œå…¨åŒ¹é…

### âš ï¸ æ³¨æ„äº‹é¡¹å’Œå¾…å®Œå–„é¡¹

1. **ç”¨æˆ·è¡¨æŸ¥è¯¢**
   - `HonorMapper.selectTopUsers()` æ–¹æ³•ä¸­æŸ¥è¯¢ç”¨æˆ·è¡¨ `t_user`
   - éœ€è¦ç¡®è®¤ç”¨æˆ·è¡¨çš„å®é™…è¡¨åå’Œå­—æ®µå
   - å¦‚æœè¡¨åæˆ–å­—æ®µåä¸åŒï¼Œéœ€è¦è°ƒæ•´SQL

2. **å¸–å­åˆ†ç±»æ˜ å°„**
   - `PostMapper.selectPracticePosts()` ä¸­æ ¹æ® `label_id` åˆ†ç±»
   - éœ€è¦ç¡®è®¤ `label_id` ä¸ä¸šåŠ¡åˆ†ç±»ï¼ˆåŸ¹è®­èµ‹èƒ½ã€AIè®­æˆ˜ã€ç”¨æˆ·äº¤æµï¼‰çš„æ˜ å°„å…³ç³»
   - å½“å‰å®ç°å‡è®¾ï¼š1-åŸ¹è®­èµ‹èƒ½ï¼Œ2-AIè®­æˆ˜ï¼Œ3-ç”¨æˆ·äº¤æµ

3. **èµ‹èƒ½äº¤æµæ ‡ç­¾**
   - `HomeServiceImpl.getEmpowermentList()` ä¸­æ ‡ç­¾å’Œæ ‡ç­¾ç±»å‹éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡é€»è¾‘è®¾ç½®
   - å½“å‰é»˜è®¤è®¾ç½®ä¸º"è®¨è®º"å’Œ"blue"

4. **å·¥å…·è¡¨å­—æ®µ**
   - `ToolMapper.selectTools()` ä¸­æŸ¥è¯¢ `featured` å­—æ®µ
   - éœ€è¦ç¡®è®¤ `t_new_tool` è¡¨æ˜¯å¦æœ‰ `featured` å­—æ®µ
   - å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦è°ƒæ•´æŸ¥è¯¢é€»è¾‘

5. **å·¥å…·Bannerè¡¨å­—æ®µ**
   - `ToolBannerMapper.selectToolBanners()` ä¸­æŸ¥è¯¢ `tool_id` å­—æ®µ
   - éœ€è¦ç¡®è®¤ `t_new_tool_banners` è¡¨æ˜¯å¦æœ‰ `tool_id` å­—æ®µ
   - å¦‚æœæ²¡æœ‰ï¼Œéœ€è¦è°ƒæ•´æŸ¥è¯¢é€»è¾‘

6. **ç›¸å¯¹æ—¶é—´è®¡ç®—**
   - `HomeServiceImpl.calculateRelativeTime()` æ–¹æ³•å®ç°äº†ç›¸å¯¹æ—¶é—´è®¡ç®—
   - å½“å‰å®ç°è¾ƒä¸ºç®€å•ï¼Œå¯æ ¹æ®éœ€æ±‚ä¼˜åŒ–

7. **ä½œè€…åç§°æŸ¥è¯¢**
   - å½“å‰å®ç°ä¸­ä½¿ç”¨ `"ç”¨æˆ·" + authorId` ä½œä¸ºä½œè€…åç§°
   - éœ€è¦å…³è”ç”¨æˆ·è¡¨æŸ¥è¯¢çœŸå®å§“å

## å››ã€æ•°æ®åº“è¡¨å­—æ®µç¼ºå¤±æç¤º

æ ¹æ®æ¥å£æ–‡æ¡£å’Œä»£ç å®ç°ï¼Œä»¥ä¸‹å­—æ®µå¯èƒ½éœ€è¦ç¡®è®¤ï¼š

1. **t_new_toolè¡¨**
   - `featured` å­—æ®µï¼ˆç”¨äºç­›é€‰æ¨èå·¥å…·ï¼‰

2. **t_new_tool_bannersè¡¨**
   - `tool_id` å­—æ®µï¼ˆç”¨äºå…³è”å·¥å…·ï¼‰

3. **t_userè¡¨**
   - éœ€è¦ç¡®è®¤ç”¨æˆ·è¡¨çš„å®é™…è¡¨åå’Œå­—æ®µç»“æ„
   - å­—æ®µï¼š`user_id`, `name`, `avatar`, `department`, `level`

4. **t_new_post_labelè¡¨**
   - éœ€è¦ç¡®è®¤æ ‡ç­¾è¡¨çš„ç»“æ„ï¼Œç”¨äºåˆ†ç±»æ˜ å°„

## äº”ã€æ€»ç»“

### âœ… å·²å®Œæˆå·¥ä½œ

1. âœ… åˆ›å»ºå®Œæ•´çš„SpringBooté¡¹ç›®ç»“æ„
2. âœ… å®ç°7ä¸ªé¦–é¡µç›¸å…³æ¥å£
3. âœ… æ‰€æœ‰æ¥å£è·¯å¾„ã€è¯·æ±‚æ–¹å¼ã€å‚æ•°ã€è¿”å›å€¼å‡ä¸å‰ç«¯å®Œå…¨åŒ¹é…
4. âœ… é…ç½®Swaggeræ–‡æ¡£
5. âœ… ç»Ÿä¸€å¼‚å¸¸å¤„ç†
6. âœ… ç»Ÿä¸€è¿”å›ç»“æœæ ¼å¼

### âš ï¸ å¾…å®Œå–„å·¥ä½œ

1. ç¡®è®¤æ•°æ®åº“è¡¨ç»“æ„ï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·è¡¨å’Œæ ‡ç­¾è¡¨
2. å®Œå–„ä¸šåŠ¡é€»è¾‘ï¼Œç‰¹åˆ«æ˜¯åˆ†ç±»æ˜ å°„å’Œæ ‡ç­¾è®¾ç½®
3. ä¼˜åŒ–ç›¸å¯¹æ—¶é—´è®¡ç®—
4. å…³è”ç”¨æˆ·è¡¨æŸ¥è¯¢çœŸå®å§“å

### ğŸ“ ä»£ç è´¨é‡

- âœ… ä¸¥æ ¼éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œè§„èŒƒ
- âœ… å®Œæ•´çš„JavaDocæ³¨é‡Š
- âœ… ç»Ÿä¸€å¼‚å¸¸å¤„ç†
- âœ… ç»Ÿä¸€è¿”å›ç»“æœæ ¼å¼
- âœ… Swagger APIæ–‡æ¡£å®Œæ•´
